import SelectMultipleController from './select_multiple_controller';
import { toArray } from '../utils';

const developedMarkets = <%= ENUMS::DEVELOPED_MARKETS.keys.to_json %>;
const emergingMarkets = <%= ENUMS::EMERGING_MARKETS.keys.to_json %>;

export default class extends SelectMultipleController {
  selectDevelopedMarkets(event) {
    Rails.stopEverything(event);
    developedMarkets.forEach(val => {
      let option = this.options.find(o => o.value === val);
      if (option) option.selected = true;
    });
    this.selectTarget.dispatchEvent(new Event('change'));
  }

  selectEmergingMarkets(event) {
    Rails.stopEverything(event);
    emergingMarkets.forEach(val => {
      let option = this.options.find(o => o.value === val);
      if (option) option.selected = true;
    });
    this.selectTarget.dispatchEvent(new Event('change'));
  }
}
