<% cache job_posting do %>
  <li class="list-group-item d-flex justify-content-between align-items-center py-3 px-2">
    <div class="media">
      <div class="mr-3 company-logo-wrapper company-logo-wrapper--100">
        <%= image_tag job_posting.company_logo_url.to_s, class: "img-fluid company-logo company-logo--100", style: "vertical-align: middle;" %>
      </div>
      <div class="media-body align-self-center">
        <%= link_to tag.u(sanitize(job_posting.title, scrubber: Loofah::Scrubbers::Prune.new)), job_posting, class: "lead text-primary", style: "font-weight: bold;" %>
        <%#= link_to sanitize(job_posting.title).html_safe, job_posting, class: "lead text-dark text-link", style: "font-weight: 600; text-decoration: none;" %>
        <div class="mb-2 mt-1 text-muted">
          <span class="text-link" data-controller="job-listing-keyword"
                data-action="click->job-listing-keyword#appendToSearch"
                data-target="job_posting_search_full_text_search">
            <%= job_posting.company_name %>
          </span>
          <span class="px-1">â€¢</span>
          <span class="text-link">
            <%= job_posting.city %><%= ", #{job_posting.country_code}" if job_posting.country_code %>
          </span>
        </div>
        <span>
          <% job_posting.keywords.each do |keyword| %>
            <%= link_to keyword, nil, class: "btn btn-xs btn-soft-primary mb-1 job-listing-keyword",
              data: {
                controller: "job-listing-keyword", action: "click->job-listing-keyword#appendToSearch",
                target: "job_posting_search_full_text_search"
              } %>
          <% end %>
        </span>
      </div>
    </div>
    <div class="d-none d-sm-block" style="width: 100px; text-align: right;"><%= job_posting.start_date.to_s "bd" %></div>
  </li>
<% end %>
