<%= simple_form_for campaign do |f| %>
  <div class="row">
    <% #################################################################################################### %>
    <%= render "@shared/forms/section_heading", text: "Info" %>

    <%= tag.div f.input(:status, collection: campaign_statuses_for_select, as: :radio_buttons, wrapper_class: "inline", required: true), class: "col-12 mb-3" %>

    <%= pseudo_row_divider %>

    <%= tag.div f.input(:name, required: true), class: "col-12 col-md-6" %>
    <div class="col-12 col-md-6">
      <%= f.input :date_range,
        input_html: {
          class: "js-range-datepicker bg-white w-100",
          data: { controller: "select-date-range" }
        } %>
    </div>

    <%= pseudo_row_divider %>

    <div class="col-12 col-md-6">
      <%= f.association :user, collection: users_for_select(role: :sponsor), label: "Advertiser", label_method: :scoped_name, prompt: "Choose...", required: true,
        input_html: { id: "user-id", data: { controller: "select select-parent", child: "creative-id" }} %>
    </div>
    <div class="col-12 col-md-6">
      <%= f.association :creative, collection: creatives_for_select, id: "bar", label: "Creative", prompt: "Choose...", required: true,
        input_html: { id: "creative-id", data: { controller: "select select-child", parent: "user-id" }} %>
      <%= link_to "New creative", new_creative_path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;" %>
    </div>

    <%= pseudo_row_divider %>

    <%= tag.div f.input(:redirect_url, as: :string), class: "col-12" %>

    <% #################################################################################################### %>
    <%= render "@shared/forms/section_heading", text: "Targeting" %>

    <div class="col-12" data-controller="select-countries">
      <%= f.input :included_countries, collection: countries_for_select, label: "Targeted Counties", input_html: { multiple: true, data: { controller: "select", target: "select-countries.select" }} %>
      <%= link_to "All", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-countries#selectAll" }  %>
      <%= link_to "Developed markets", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-countries#selectDevelopedMarkets" }  %>
      <%= link_to "Emerging markets", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-countries#selectEmergingMarkets" }  %>
      <%= link_to "Clear", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-countries#clearSelections" }  %>
    </div>

    <%= pseudo_row_divider %>

    <div class="col-12 col-md-6" data-controller="select-multiple">
      <%= f.input :included_topic_categories, collection: topic_categories_for_select, label: "Targeted Topics",
        input_html: { multiple: true, class: "mb-0", data: { controller: "select", target: "select-multiple.select" }} %>
      <%= link_to "All", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-multiple#selectAll" }  %>
      <%= link_to "Clear", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-multiple#clearSelections" }  %>
    </div>
    <div class="col-12 col-md-6" data-controller="select-multiple">
      <%= f.input :excluded_topic_categories, collection: topic_categories_for_select, label: "Excluded Topics",
        input_html: { multiple: true, data: { controller: "select", target: "select-multiple.select" }} %>
      <%= link_to "All", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-multiple#selectAll" }  %>
      <%= link_to "Clear", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-multiple#clearSelections" }  %>
    </div>

    <%= pseudo_row_divider %>

    <div class="col-12 col-md-6" data-controller="select-multiple">
      <%= f.input :included_programming_languages, collection: programming_languages_for_select, label: "Targeted Programming Languages",
        input_html: { multiple: true, class: "mb-0", data: { controller: "select", target: "select-multiple.select" }} %>
      <%= link_to "All", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-multiple#selectAll" }  %>
      <%= link_to "Clear", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-multiple#clearSelections" }  %>
    </div>
    <div class="col-12 col-md-6" data-controller="select-multiple">
      <%= f.input :excluded_programming_languages, collection: programming_languages_for_select, label: "Excluded Programming Languages",
        input_html: { multiple: true, data: { controller: "select", target: "select-multiple.select" }} %>
      <%= link_to "All", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-multiple#selectAll" }  %>
      <%= link_to "Clear", request.path, class: "btn btn-link btn-sm pb-0", style: "position:relative;top:-15px;", data: { action: "click->select-multiple#clearSelections" }  %>
    </div>

    <% #################################################################################################### %>
    <%= render "@shared/forms/section_heading", text: "Budget" %>

    <%= tag.div f.input(:total_spend, label: "Total Budget", as: :decimal, required: true), class: "col-12 col-md-4" %>
    <%= tag.div f.input(:budget_daily_amount, label: "Daily Budget", as: :decimal, required: true), class: "col-12 col-md-4" %>
    <%= tag.div f.input(:ecpm, label: "eCPM", as: :decimal, required: true), class: "col-12 col-md-4" %>

    <%= pseudo_row_divider %>

    <%= render "@shared/forms/button_panel" do %>
      <%= f.button(:submit, class: "btn-lg btn-primary") %>
    <% end %>
  </div>
<% end %>
